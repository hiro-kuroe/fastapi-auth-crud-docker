# 🩺 Incident Menu（分析 → 修正の流れ）

本メニューは、FastAPI / JWT / Docker 認証事故に対する  
**「分析フェーズ」中心型の対応フロー**です。

---

## A. 分析フェーズ（必須）

まずは「原因の層」を特定します。

### 実施内容

- 症状の整理
- 再現条件の確認
- 認証フローの分解（JWT / 署名 / SECRET_KEY / 環境差分）
- 原因の層の特定（コード / 設定 / 環境 / 責務分離）
- 修正方針の提示

### 成果物

- 原因特定レポート（文章）
- 修正方針
- 再発防止の考え方

※この段階では、いきなりコード修正は行いません。

---

## B. 修正フェーズ（分析後に判断）

原因が明確になった場合のみ、修正対応を検討します。

### 対応例

- SECRET_KEY差分修正
- 環境変数構成の再設計
- Docker設定修正
- JWT責務整理
- 認証ミドルウェア構成見直し

※対応可否は構成により判断します。

---

## なぜ分析から始めるのか

認証事故は「コードが間違っている」とは限りません。

多くは：

- 環境差分
- 責務の混在
- 鍵の不整合
- 本番構成のズレ

です。

闇雲な修正は、事故を深くします。

まずは「現在地の特定」から始めます。
